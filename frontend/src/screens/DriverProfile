const DriverProfile = () => {
  const { user } = useSelector(state => state.auth);
  const [profile, setProfile] = useState(null);

  useEffect(() => {
    const fetchDriverProfile = async () => {
      try {
        const response = await fetch('/api/driver/profile', {
          headers: getAuthHeader()
        });
        const driverData = await response.json();
        
        setProfile({
          // User basics
          name: user.name,
          email: user.email,
          phone: user.phone,
          // Driver-specific from registration
          vehicle: driverData.vehicle || {},
          licenseNumber: driverData.licenseNumber,
          // Editable fields
          homeAddress: driverData.homeAddress || '',
          profilePicture: driverData.profilePicture || null,
          // Ratings
          rating: driverData.rating || 0,
          totalTrips: driverData.totalTrips || 0,
          feedback: driverData.feedback || []
        });
      } catch (error) {
        console.error('Error fetching driver profile:', error);
      }
    };

    fetchDriverProfile();
  }, [user]);
};